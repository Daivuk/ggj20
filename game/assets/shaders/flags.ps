input float3 inNormal;
input float2 inTexCoord;
input float inDistance;

extern float3 skyColor;

const float3 sunColor = float3(1, 1, 1);
const float3 sunDir = normalize(float3(-0.4, -0.4, 1.0));

void main()
{
    float4 inColor = float4(2, 0, 0, 1);
    oColor = inColor;

    oColor.rgb = oColor.rgb * sunColor * (dot(sunDir, inNormal) * 0.5 + 0.5);
    
    float d = clamp(inDistance / 50, 0, 1);
    oColor.rgb = lerp(oColor.rgb, skyColor, d);
}
