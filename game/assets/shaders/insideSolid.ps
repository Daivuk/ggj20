Texture0 texDiffuse;

input float3 inNormal;
input float4 inColor;
input float2 inTexCoord;
input float2 inDepth;

const float3 sunColor = float3(1, 1, 1);
const float3 sunDir = normalize(float3(-0.4, -0.4, 1.0));

void main()
{
    float4 diffuse = texDiffuse(inTexCoord);
    oColor = diffuse * inColor;

    oColor.rgb = oColor.rgb * sunColor * (dot(sunDir, inNormal) * 0.5 + 0.5);
}
